{"id": "chatcmpl-cig8rfm3f1by94r5yirm3", "choices": [{"finish_reason": "stop", "index": 0, "message": {"content": "Here is a JavaScript function that uses regex to extract the three-character code from a filename:\n```\nfunction extractCode(filename) {\n  const regex = /\\.usfm$)/;\n  if (!regex.test(filename)) {\n    throw new Error(`Invalid file extension: ${filename}`);\n  }\n  const match = filename.match(/([a-zA-Z0-9]{3})/);\n  return match && match[1];\n}\n```\nHere's an explanation of the code:\n\n* The regular expression `/\\.(usfm)$/)` matches the string \".usfm\" at the end of the file name, and ensures that it is a valid USFM file.\n* If the file extension is not \".usfm\", an error is thrown.\n* The regular expression `([a-zA-Z0-9]{3})` matches any three-character code consisting of letters (both uppercase and lowercase) or digits.\n* The `match()` method returns an array containing the first match, or `null` if no match is found. We use destructuring to extract the first element of the array (`match[1]`) and return it.\n\nYou can test this function with a sample filename:\n```\nconst filename = \"57-1Jn.usfm\";\nconsole.log(extractCode(filename)); // Output: \"1Jn\"\n```\nNote that if the file name does not contain a three-character code, or if the extension is not \".usfm\", the function will return `null`.", "role": "assistant"}}], "created": 1727010126, "model": "lmstudio-community/Meta-Llama-3-8B-Instruct-GGUF/Meta-Llama-3-8B-Instruct-Q4_K_M.gguf", "object": "chat.completion", "usage": {"completion_tokens": 301, "prompt_tokens": 106, "total_tokens": 407}, "time": "23.72"}